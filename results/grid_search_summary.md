# 随机森林网格搜索优化结果摘要

## 网格搜索过程

网格搜索于2025年5月6日执行，使用配置文件 `config/rf_optimized.yaml` 中定义的参数网格。网格搜索过程中尝试了多种参数组合，共计5760种不同的参数组合，总共执行了28800次拟合（5折交叉验证）。搜索耗时约1小时01分35秒。

### 网格搜索参数范围

- `n_estimators`: [100, 300, 500, 700, 1000]
- `max_depth`: [10, 15, 20, 25, 30, None]
- `min_samples_split`: [2, 3, 5, 10]
- `min_samples_leaf`: [1, 2, 4, 8]
- `max_features`: ['sqrt', 'log2', 0.33, 0.5]
- `bootstrap`: [True]
- `criterion`: ['squared_error', 'absolute_error', 'friedman_mse']

## 最佳参数结果

通过网格搜索找到的最佳参数组合如下：

| 参数 | 最佳值 |
|------|--------|
| bootstrap | True |
| criterion | squared_error |
| max_depth | 25 |
| max_features | sqrt |
| min_samples_leaf | 1 |
| min_samples_split | 2 |
| n_estimators | 100 |

## 模型性能评估

### 训练集性能

- MAE: 1.2642
- RMSE: 2.0278
- R²: 0.9963

### 测试集性能

- MAE: 20.8388
- RMSE: 24.8182
- R²: 0.6166

### 性能阈值检查结果

- MAE阈值（< 5.0）：未通过（20.8388 > 5.0）
- RMSE阈值（< 5.0）：未通过（24.8182 > 5.0）
- R²阈值（> 0.85）：未通过（0.6166 < 0.85）

## 与之前模型的对比

### 之前标准随机森林模型（未优化）：

- MAE: 20.5570
- RMSE: 24.7176
- R²: 0.6197

### 之前集成随机森林模型：

- MAE: 19.0535
- RMSE: 22.8843
- R²: 0.6741

### 本次网格搜索优化模型：

- MAE: 20.8388
- RMSE: 24.8182
- R²: 0.6166

## 结论与建议

网格搜索优化后的随机森林模型在训练集上表现优秀，但在测试集上的泛化性能无明显改善，甚至略有下降。这表明以下几点：

1. **过拟合问题**：训练集和测试集性能差异巨大（训练集R²接近1，测试集仅0.62），说明模型过度拟合训练数据。

2. **特征限制**：目前特征工程可能不足以完全捕捉工具磨损的复杂性。即使用广泛的参数网格搜索，也无法显著改善测试性能。

3. **数据分布差异**：训练实验（c1, c4）和测试实验（c6）之间可能存在明显的数据分布差异。

### 下一步改进方向

1. **特征工程加强**：
   - 添加更多与工具磨损物理过程相关的特征
   - 考虑时序特征，如趋势、周期性等
   - 尝试更高级的特征提取方法，如小波变换

2. **模型集成优化**：
   - 使用之前表现较好的集成方法（MAE: 19.0535）
   - 尝试不同的集成策略，如堆叠、投票与加权等
   - 在集成中加入异构模型，如GBDT、XGBoost等

3. **深度学习考虑**：
   - 考虑使用循环神经网络（RNN）或LSTM捕捉时序关系
   - 尝试一维卷积神经网络（1D CNN）提取信号特征

4. **交叉验证策略调整**：
   - 使用留一实验交叉验证（Leave-One-Experiment-Out）
   - 尝试对不同工况的数据进行分层抽样 